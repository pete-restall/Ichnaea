@inherits NancyRazorViewBase<Restall.Ichnaea.Demo.Web.Accounts.TransactionResponse>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>Ichnaea.Demo - Account @Model.AccountId Transaction Completed</title>
	</head>

	<body>
		<section>
			<h1>Transaction Completed</h1>
			<p>
				Go <a href="@Model.GetAccountUri">Back to Account Details</a>.
			</p>
		</section>
		<section>
			<h1>Page Description</h1>
			<p>
				This page has been generated by one of the methods in AccountTransactionService.
			</p>
			<p>
				The Account is loaded by its ID (Sort Code and Account Number) via the AccountRepository class. The Repository loads persisted Events from
				an NEventStore Event Stream and replays them by calling the various IReplayDomainEvent&lt;&gt; implementations until all of the Aggregate
				Root's Domain Events have been read from the Event Stream. A Transaction is then applied to the Account which raises an appropriate
				Domain Event.
			</p>
			<p>
				Note that an Account's ID is its Sort Code and Account Number, but this is sensitive data and so requires a Surrogate ID (ie.
				<strong>@Model.AccountId</strong> in the URL).  The Surrogates are outside of the Domain in this application, and so the lookup is done via
				regular RavenDB document interactions.
			</p>
		</section>
	</body>
</html>
